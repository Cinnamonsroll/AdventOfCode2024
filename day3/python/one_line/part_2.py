print((lambda mem: (lambda instrs: sum(x * y for i, (x, y) in enumerate([(int(n[0]), int(n[1])) if len(n) == 2 else (0, 0) for n in [__import__('re').findall(r"\d+", instr) for instr in instrs]]) if all('do()' != x != "don't()" for x in instrs[:i]) or instrs[max([j for j in range(i) if instrs[j] in ["do()", "don't()"]] or [0])] == "do()"))(__import__('re').findall(r"mul\(\d+,\d+\)|do\(\)|don't\(\)", mem)))(open("input.txt").read()))
